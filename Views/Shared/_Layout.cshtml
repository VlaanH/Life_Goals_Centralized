@using Microsoft.AspNetCore.Identity
@using LifeGoals.Daemons;
@using System.Security.Claims
@inject SignInManager<ApplicationUser> SignInManager
<!DOCTYPE html>
<html lang="en">
<head>


    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    @if (ViewData["Title"] != null)
    {
        <title> @ViewData["Title"].ToString()</title>
    }
    else
    {
        <title>LifeGoals!</title>
    }
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="~/css/site.css"/>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:ital,wght@1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/css/design.css">
    <link rel="stylesheet" href="~/css/authorization.css">
    <link rel="stylesheet" href="~/css/create_goal.css">
    <link rel="stylesheet" href="~/css/goal.css">
    <link rel="stylesheet" href="~/css/LoadingAnimation.css">
    <link rel="stylesheet" href="~/css/progress_bar.css">
    <link rel="stylesheet" href="~/css/details_dialog.css">
    <link rel="stylesheet" href="~/css/Welcome.css">
    <partial name="_ValidationScripts"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
</head>
<body>
<header class="header rounded-root" style="z-index: 10000;">
    
           
    <div class="main-header-btn">

                
                    
                    
        <div class="header-btn" >
            <a style=" color: white; text-decoration: none" onclick="return false" href="/home/feed" address="true" page="Feed">LifeGoals</a>
            <img src="~/img/pic.png" widht="30" height="30" class="logo-icon" alt="">
        </div>
                    
                     
                    
        <div class="header-btn header-control" >
            <a onclick="return false" href="/" page="Profile" address="true" style=" color: white; text-decoration: none" >Profile</a>
        </div>

        </div>



        <div class="aut-header-btn logout">
            
            <p id="web3Net"  class="btn btn-white-purple rounded-root hidden">
                <img id="web3NetImg" class="iconButtonNonBorder" >
                <span id="web3NetName">net name</span>
            </p>
            
            @if (SignInManager.IsSignedIn(User))
            {
                <div>
                    <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Profile", "Home", new {area = ""})">
                        <button type="submit" class="btn btn-purple rounded-root">
                             <span>Logout</span>
                        </button>
                    </form>
                </div>
            }
            else
            {
                <div >
                    <a class="btn btn-purple rounded-root" asp-area="Identity" asp-page="/Account/Register" style="text-decoration: none">Register</a>
                    <a class="btn btn-purple rounded-root" asp-area="Identity" asp-page="/Account/Login" style="text-decoration: none">Login</a>
                </div>
            }
                                
            <br/>
        </div>
         
            
    
    
            
</header>
<div class="container" id="MainFrame">
    <main role="main" class="pb-3">
        @RenderBody()
    </main>
</div>

<script>
var userAddress= "@User.FindFirstValue(ClaimTypes.NameIdentifier)";

//Disable form validation
 if ( window.history.replaceState ) { window.history.replaceState( null, null, window.location.href );}
</script>

<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ajax-unobtrusive/3.2.6/jquery.unobtrusive-ajax.min.js"></script>
@await RenderSectionAsync("Scripts", required: false)
</body>

<footer class="border-top footer text-muted">
    <div class="containerFooter" style=" color: black;">
        &copy; 2022 - LifeGoals - <a onclick="return false" page="Privacy" address="false" href="/home/Privacy">Privacy</a>
    </div>
</footer>
</html>
